"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[873],{45902:function(e,n,t){var a=t(1413),r=(t(72791),t(53767)),s=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,o=e.value,i=void 0===o?"-":o,l=e.orientation,c=void 0===l?"column":l,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,m=void 0===x?{}:x,p=e.valProps,Z=void 0===p?{}:p;return(0,s.jsxs)(r.Z,(0,a.Z)((0,a.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,s.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:600}},m),{},{children:t})),(0,s.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:500}},Z),{},{children:i}))]}))}},5450:function(e,n,t){var a=t(29439),r=t(72791),s=t(57482),o=t(79836),i=t(53382),l=t(53994),c=t(56890),u=t(35855),d=t(64554),x=t(56125),m=t(20890),p=t(85172),Z=t(95678),f=t(39281),h=t(35527),j=t(80184),v=function(e){var n=e.event,t=r.useState(!1),s=(0,a.Z)(t,2),o=s[0],i=s[1];return(0,j.jsxs)(r.Fragment,{children:[(0,j.jsxs)(u.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,j.jsx)(l.Z,{component:"th",scope:"row",onClick:function(){return i(!o)},children:n.event_type}),(0,j.jsx)(l.Z,{onClick:function(){return i(!o)},children:n.reason}),(0,j.jsx)(l.Z,{onClick:function(){return i(!o)},children:n.seen}),(0,j.jsx)(l.Z,{onClick:function(){return i(!o)},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,j.jsx)(l.Z,{onClick:function(){return i(!o)},children:o?(0,j.jsx)(Z.Z,{}):(0,j.jsx)(p.Z,{})})]}),(0,j.jsx)(u.Z,{children:(0,j.jsx)(l.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,j.jsx)(x.Z,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(d.Z,{sx:{margin:1},children:(0,j.jsx)(m.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})};n.Z=function(e){var n=e.events;return e.loading?(0,j.jsx)(s.Z,{}):(0,j.jsx)(f.Z,{component:h.Z,children:(0,j.jsxs)(o.Z,{"aria-label":"collapsible table",children:[(0,j.jsx)(c.Z,{children:(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(l.Z,{children:"Type"}),(0,j.jsx)(l.Z,{children:"Reason"}),(0,j.jsx)(l.Z,{children:"Age"}),(0,j.jsx)(l.Z,{children:"Message"}),(0,j.jsx)(l.Z,{})]})}),(0,j.jsx)(i.Z,{children:n.map((function(e){return(0,j.jsx)(v,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}},14873:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var a=t(29439),r=t(1413),s=t(72791),o=t(57689),i=t(11087),l=t(11135),c=t(25787),u=t(23814),d=t(61889),x=t(25228),m=t(43896),p=t(78687),Z=t(5171),f=t(27391),h=t(35527),j=t(63466),v=t(81207),b=t(75952),g=t(41320),y=t(87995),k=t(80184),w=(0,c.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},u.qg),{},{actionsTray:(0,r.Z)((0,r.Z)({},u.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},u.Bz))}))((function(e){var n=e.classes,t=e.tenant,o=e.namespace,i=e.podName,l=e.propLoading,c=(0,g.TL)(),u=(0,p.v9)((function(e){return e.tenants.loadingTenant})),x=(0,s.useState)(""),m=(0,a.Z)(x,2),w=m[0],C=m[1],N=(0,s.useState)([]),S=(0,a.Z)(N,2),T=S[0],P=S[1],L=(0,s.useState)(!0),E=(0,a.Z)(L,2),F=E[0],R=E[1],I=new Z.t1({minWidth:5,fixedHeight:!1});(0,s.useEffect)((function(){l&&R(!0)}),[l]),(0,s.useEffect)((function(){u&&R(!0)}),[u]);var M=function(e,t){if(!e)return null;var a=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),r=""!==w&&e.toLowerCase().includes(w.toLowerCase());return a.startsWith("   ")?(0,k.jsx)("div",{className:"".concat(r?n.highlight:""),children:(0,k.jsx)("span",{className:n.tab,children:a})},t):(0,k.jsx)("div",{className:"".concat(r?n.highlight:""),children:(0,k.jsx)("span",{className:n.ansidefault,children:a})},t)};function A(e){var n=e.columnIndex,t=e.key,a=e.parent,s=e.index,o=e.style;return(0,k.jsx)(Z.Z8,{cache:I,columnIndex:n,parent:a,rowIndex:s,children:(0,k.jsx)("div",{style:(0,r.Z)({},o),children:M(T[s],s)})},t)}return(0,s.useEffect)((function(){F&&v.Z.invoke("GET","/api/v1/namespaces/".concat(o,"/tenants/").concat(t,"/pods/").concat(i)).then((function(e){P(e.split("\n")),R(!1)})).catch((function(e){c((0,y.Ih)(e)),R(!1)}))}),[F,i,o,t,c]),(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,k.jsx)(f.Z,{placeholder:"Highlight Line",className:n.searchField,id:"search-resource",label:"",onChange:function(e){C(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,k.jsx)(j.Z,{position:"start",children:(0,k.jsx)(b.W1M,{})})},variant:"standard"})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)("br",{})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)(h.Z,{children:(0,k.jsx)("div",{className:n.logList,children:T.length>=1&&(0,k.jsx)(Z.qj,{children:function(e){var n=e.width,t=e.height;return(0,k.jsx)(Z.aV,{rowHeight:function(e){return I.rowHeight(e)},overscanRowCount:15,rowCount:T.length,rowRenderer:A,width:n,height:t})}})})})})]})})),C=t(45248),N=t(5450),S=function(e){var n=e.tenant,t=e.namespace,r=e.podName,o=e.propLoading,i=(0,g.TL)(),l=(0,p.v9)((function(e){return e.tenants.loadingTenant})),c=(0,s.useState)([]),u=(0,a.Z)(c,2),x=u[0],m=u[1],Z=(0,s.useState)(!0),f=(0,a.Z)(Z,2),h=f[0],j=f[1];return(0,s.useEffect)((function(){o&&j(!0)}),[o]),(0,s.useEffect)((function(){l&&j(!0)}),[l]),(0,s.useEffect)((function(){h&&v.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(r,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,C.v1)((t-e[n].last_seen).toString())}m(e),j(!1)})).catch((function(e){i((0,y.Ih)(e)),j(!1)}))}),[h,r,t,n,i]),(0,k.jsx)(s.Fragment,{children:(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)(N.Z,{events:x,loading:h})})})},T=t(64554),P=t(81918),L=t(79836),E=t(53382),F=t(53994),R=t(56890),I=t(35855),M=t(39281),A=t(45902),B={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},D=function(e){var n=e.title;return(0,k.jsx)(T.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,k.jsx)("h3",{children:n})})},H=function(e){var n=e.describeInfo;return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(D,{title:"Summary"}),(0,k.jsxs)(T.Z,{sx:(0,r.Z)({},B),children:[(0,k.jsx)(A.Z,{label:"Name",value:n.name}),(0,k.jsx)(A.Z,{label:"Namespace",value:n.namespace}),(0,k.jsx)(A.Z,{label:"Node",value:n.nodeName}),(0,k.jsx)(A.Z,{label:"Start time",value:n.startTime}),(0,k.jsx)(A.Z,{label:"Status",value:n.phase}),(0,k.jsx)(A.Z,{label:"QoS Class",value:n.qosClass}),(0,k.jsx)(A.Z,{label:"IP",value:n.podIP})]})]})},V=function(e){var n=e.annotations;return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(D,{title:"Annotations"}),(0,k.jsx)(T.Z,{children:n.map((function(e,n){return(0,k.jsx)(P.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})},z=function(e){var n=e.labels;return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(D,{title:"Labels"}),(0,k.jsx)(T.Z,{children:n.map((function(e,n){return(0,k.jsx)(P.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})},O=function(e){var n=e.conditions;return(0,k.jsx)(K,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})},_=function(e){var n=e.tolerations;return(0,k.jsx)(K,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})},W=function(e){var n=e.volumes;return(0,k.jsx)(s.Fragment,{children:n.map((function(e,n){return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(D,{title:"Volume ".concat(e.name)}),(0,k.jsxs)(T.Z,{sx:(0,r.Z)({},B),children:[e.pvc&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(A.Z,{label:"Type",value:"Persistant Volume Claim"}),(0,k.jsx)(A.Z,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,k.jsx)(A.Z,{label:"Type",value:"Projected"})]})]},n)}))})},K=function(e){var n=e.title,t=e.items,a=e.columns,r=e.columnsLabels;return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(D,{title:n}),(0,k.jsx)(T.Z,{children:(0,k.jsx)(M.Z,{component:h.Z,children:(0,k.jsxs)(L.Z,{"aria-label":"collapsible table",children:[(0,k.jsx)(R.Z,{children:(0,k.jsx)(I.Z,{children:r.map((function(e,n){return(0,k.jsx)(F.Z,{children:e},n)}))})}),(0,k.jsx)(E.Z,{children:t.map((function(e,n){return(0,k.jsx)(I.Z,{children:a.map((function(n,t){return(0,k.jsx)(F.Z,{children:e[n]},t)}))},n)}))})]})})})]})},U=function(e){var n=e.containers;return(0,k.jsx)(s.Fragment,{children:n.map((function(e,n){return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(D,{title:"Container ".concat(e.name)}),(0,k.jsxs)(T.Z,{style:{wordBreak:"break-all"},sx:(0,r.Z)({},B),children:[(0,k.jsx)(A.Z,{label:"Image",value:e.image}),(0,k.jsx)(A.Z,{label:"Ready",value:"".concat(e.ready)}),(0,k.jsx)(A.Z,{label:"Ports",value:e.ports.join(", ")}),(0,k.jsx)(A.Z,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,k.jsx)(A.Z,{label:"Arguments",value:e.args.join(", ")}),(0,k.jsx)(A.Z,{label:"Started",value:e.state.started}),(0,k.jsx)(A.Z,{label:"State",value:e.state.state})]}),(0,k.jsxs)(T.Z,{style:{wordBreak:"break-all"},sx:(0,r.Z)({},B),children:[(0,k.jsx)(A.Z,{label:"Image ID",value:e.imageID}),(0,k.jsx)(A.Z,{label:"Container ID",value:e.containerID})]}),(0,k.jsx)(K,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,k.jsx)(K,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})},q=function(e){var n=e.tenant,t=e.namespace,r=e.podName,o=e.propLoading,i=(0,g.TL)(),l=(0,p.v9)((function(e){return e.tenants.loadingTenant})),c=(0,s.useState)(),u=(0,a.Z)(c,2),Z=u[0],f=u[1],h=(0,s.useState)(!0),j=(0,a.Z)(h,2),b=j[0],w=j[1],C=(0,s.useState)(0),N=(0,a.Z)(C,2),S=N[0],T=N[1];(0,s.useEffect)((function(){o&&w(!0)}),[o]),(0,s.useEffect)((function(){l&&w(!0)}),[l]),(0,s.useEffect)((function(){b&&v.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(r,"/describe")).then((function(e){f(e),w(!1)})).catch((function(e){i((0,y.Ih)(e)),w(!1)}))}),[b,r,t,n,i]);return(0,k.jsx)(s.Fragment,{children:Z&&(0,k.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,k.jsxs)(x.Z,{value:S,onChange:function(e,n){T(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(m.Z,{id:"pod-describe-summary",label:"Summary"}),(0,k.jsx)(m.Z,{id:"pod-describe-annotations",label:"Annotations"}),(0,k.jsx)(m.Z,{id:"pod-describe-labels",label:" Labels"}),(0,k.jsx)(m.Z,{id:"pod-describe-conditions",label:"Conditions"}),(0,k.jsx)(m.Z,{id:"pod-describe-tolerations",label:"Tolerations"}),(0,k.jsx)(m.Z,{id:"pod-describe-volumes",label:"Volumes"}),(0,k.jsx)(m.Z,{id:"pod-describe-containers",label:"Containers"})]}),function(e,n){switch(e){case 0:return(0,k.jsx)(H,{describeInfo:n});case 1:return(0,k.jsx)(V,{annotations:n.annotations});case 2:return(0,k.jsx)(z,{labels:n.labels});case 3:return(0,k.jsx)(O,{conditions:n.conditions});case 4:return(0,k.jsx)(_,{tolerations:n.tolerations});case 5:return(0,k.jsx)(W,{volumes:n.volumes});case 6:return(0,k.jsx)(U,{containers:n.containers})}}(S,Z)]})})},G=(0,c.Z)((function(e){return(0,l.Z)((0,r.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},u.Bz))}))((function(e){var n=e.classes,t=(0,o.UO)(),l=t.tenantNamespace,c=t.tenantName,u=t.podName,p=(0,s.useState)(0),Z=(0,a.Z)(p,2),f=Z[0],h=Z[1],j=(0,s.useState)(!0),v=(0,a.Z)(j,2),b=v[0],g=v[1];function y(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,s.useEffect)((function(){b&&g(!1)}),[b]),(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsxs)("h1",{className:n.sectionTitle,children:[(0,k.jsx)(i.rU,{to:"/namespaces/".concat(l||"","/tenants/").concat(c||"","/pods"),className:n.breadcrumLink,children:"Pods"})," ","> ",u]})}),(0,k.jsxs)(d.ZP,{container:!0,children:[(0,k.jsx)(d.ZP,{item:!0,xs:9,children:(0,k.jsxs)(x.Z,{value:f,onChange:function(e,n){h(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(m.Z,(0,r.Z)({label:"Events"},y(0))),(0,k.jsx)(m.Z,(0,r.Z)({label:"Describe"},y(1))),(0,k.jsx)(m.Z,(0,r.Z)({label:"Logs"},y(2)))]})}),0===f&&(0,k.jsx)(S,{tenant:c||"",namespace:l||"",podName:u||"",propLoading:b}),1===f&&(0,k.jsx)(q,{tenant:c||"",namespace:l||"",podName:u||"",propLoading:b}),2===f&&(0,k.jsx)(w,{tenant:c||"",namespace:l||"",podName:u||"",propLoading:b})]})]})}))},85172:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),s=t(80184),o=(0,r.default)((0,s.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=o},95678:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),s=t(80184),o=(0,r.default)((0,s.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");n.Z=o},53767:function(e,n,t){var a=t(4942),r=t(63366),s=t(87462),o=t(72791),i=t(51184),l=t(45682),c=t(78519),u=t(82466),d=t(66934),x=t(31402),m=t(80184),p=["component","direction","spacing","divider","children"];function Z(e,n){var t=o.Children.toArray(e).filter(Boolean);return t.reduce((function(e,a,r){return e.push(a),r<t.length-1&&e.push(o.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var f=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,r=(0,s.Z)({display:"flex",flexDirection:"column"},(0,i.k9)({theme:t},(0,i.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var o=(0,l.hB)(t),c=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,i.P$)({values:n.direction,base:c}),x=(0,i.P$)({values:n.spacing,base:c});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var a=n>0?d[t[n-1]]:"column";d[e]=a}}));r=(0,u.Z)(r,(0,i.k9)({theme:t},x,(function(e,t){return{"& > :not(style) + :not(style)":(0,a.Z)({margin:0},"margin".concat((r=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,l.NA)(o,e))};var r})))}return r=(0,i.dt)(t.breakpoints,r)})),h=o.forwardRef((function(e,n){var t=(0,x.Z)({props:e,name:"MuiStack"}),a=(0,c.Z)(t),o=a.component,i=void 0===o?"div":o,l=a.direction,u=void 0===l?"column":l,d=a.spacing,h=void 0===d?0:d,j=a.divider,v=a.children,b=(0,r.Z)(a,p),g={direction:u,spacing:h};return(0,m.jsx)(f,(0,s.Z)({as:i,ownerState:g,ref:n},b,{children:j?Z(v,j):v}))}));n.Z=h},39281:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(87462),r=t(63366),s=t(72791),o=t(28182),i=t(94419),l=t(31402),c=t(66934),u=t(75878),d=t(21217);function x(e){return(0,d.Z)("MuiTableContainer",e)}(0,u.Z)("MuiTableContainer",["root"]);var m=t(80184),p=["className","component"],Z=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,n){return n.root}})({width:"100%",overflowX:"auto"}),f=s.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTableContainer"}),s=t.className,c=t.component,u=void 0===c?"div":c,d=(0,r.Z)(t,p),f=(0,a.Z)({},t,{component:u}),h=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},x,n)}(f);return(0,m.jsx)(Z,(0,a.Z)({ref:n,as:u,className:(0,o.Z)(h.root,s),ownerState:f},d))}))},56890:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(87462),r=t(63366),s=t(72791),o=t(28182),i=t(94419),l=t(829),c=t(31402),u=t(66934),d=t(75878),x=t(21217);function m(e){return(0,x.Z)("MuiTableHead",e)}(0,d.Z)("MuiTableHead",["root"]);var p=t(80184),Z=["className","component"],f=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),h={variant:"head"},j="thead",v=s.forwardRef((function(e,n){var t=(0,c.Z)({props:e,name:"MuiTableHead"}),s=t.className,u=t.component,d=void 0===u?j:u,x=(0,r.Z)(t,Z),v=(0,a.Z)({},t,{component:d}),b=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},m,n)}(v);return(0,p.jsx)(l.Z.Provider,{value:h,children:(0,p.jsx)(f,(0,a.Z)({as:d,className:(0,o.Z)(b.root,s),ref:n,role:d===j?null:"rowgroup",ownerState:v},x))})}))}}]);
//# sourceMappingURL=873.6f4e1378.chunk.js.map